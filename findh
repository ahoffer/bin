#! /bin/bash
#
# Find Here
#
# Search for files in the current directory and subdirectories using case-insensitive
# pattern matching. Suppresses permission denied errors.

# Always ensure pattern has leading and trailing wildcards for substring matching
pattern="${1}"
if [[ "${pattern}" != \** ]]; then
  pattern="*${pattern}"
fi
if [[ "${pattern}" != *\* ]]; then
  pattern="${pattern}*"
fi

if command -v fdfind >/dev/null 2>&1; then
  fdfind -i -g --no-ignore "${pattern}"
else
  echo "fdfind not found. Install it with: sudo apt install fd-find"
  find . -iname "${pattern}" 2>/dev/null
fi
